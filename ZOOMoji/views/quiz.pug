extends layout

block content

  h1 ZOOMojis, learn about us.
  .topnav
    button#memojisButton memojis
    button#beccaButton Becca
    button#bridgetButton Bridget
    button#lilyButton Lily
    button#domButton Dom 
    button#zoomButton Zoom
    button#quizButton Quiz
    script(src='javascripts/client.js')

  .main
    p Answer the following questions to figure out if you are most like Becca, Bridget, Lily, or Dom!
  

    each val in questions
        h2 !{JSON.stringify(val["question"].replace(/["]+/g, ''))}

        div
            input.form-control(type='radio', name=val, value='a')
            label(for 'a') !{JSON.stringify(val["answers"]["a"])}
     
        div
            input.form-control(type='radio', name=val, value='b')
            label(for 'b') !{JSON.stringify(val["answers"]["b"])}
    
        div
            input.form-control(type='radio', name=val, value='c')
            label(for 'c') !{JSON.stringify(val["answers"]["c"])}
        div
            input.form-control(type='radio', name=val, value='d')
            label(for 'd') !{JSON.stringify(val["answers"]["d"])}

    br
    button(type= 'button', id= 'submit', onclick="submit_handler") Submit
    div(id="result")

    script.
        function submit_handler(){
            console.log("Submit button pressed")
            var aCount = 0;
            var bCount = 0;
            var cCount = 0;
            var dCount = 0;
            
            
            var answer = document.getElementById("result").innerHTML = "";
            var elements = document.getElementsByTagName('input');

            for (i = 0; i < elements.length; i++){
                if(elements[i].type = 'radio'){
                    if(elements[i].checked){
                        switch(elements[i].value){
                            case 'a':
                                aCount += 1;
                                break;
                            case 'b':
                                bCount += 1;
                                break;
                            case 'c':
                                cCount += 1;
                                break;
                            case 'd':
                                dCount += 1;
                                break;
                            default:
                                break;
    
                        }
                    }
                }
            } 
        
            let winner = Math.max(aCount, bCount, cCount, dCount);

            if(winner == aCount){
                resultsContainer.innerHTML = 'You are most like Becca!';
            }else if (winner == bCount){
                resultsContainer.innerHTML = 'You are most like Bridget!';
            }else if (winner == cCount){
                resultsContainer.innerHTML = 'You are most like Lily!';
            }else if (winner == dCount){
                resultsContainer.innerHTML = 'You are most like Dom!';

            }
        }

    
    //button(type= "button", id= "submit", onclick="submit_handler") Submit
    //div(id="result")
